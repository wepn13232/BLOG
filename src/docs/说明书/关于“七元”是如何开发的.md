# å…³äºâ€œä¸ƒå…ƒâ€æ˜¯å¦‚ä½•å¼€å‘çš„

ç›®å‰ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šåšå®¢å»ºç«™çš„æ¡†æ¶å¯ä¾›é€‰æ‹©ï¼Œæ— è®ºæ˜¯ä¸€é”®å»ºç«™è¿˜æ˜¯ä½¿ç”¨ä¸€äº›è¾ƒä¸ºå®Œå–„çš„æ¡†æ¶ã€‚
å‰ç«¯è¿™è¾¹ä¹‹å‰è¾ƒä¸ºæµè¡Œçš„æ¡†æ¶æœ‰Hexoã€gitbookç­‰ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€ä¸ªvuepressæ¡†æ¶ï¼Œåœ¨vueåŸºç¡€ä¸Šå¼€å‘çš„ä¸€ä¸ªåŸºäºé™æ€é©±åŠ¨çš„åšå®¢æ¡†æ¶ã€‚åé¢ä¸Šæ‰‹è¯•äº†ä¸€ä¸‹ï¼Œvuepresså¯ä»¥çº¯é ç®€å•çš„é…ç½®æ¥æ­å»ºä¸€ä¸ªè¾ƒä¸ºå®Œå–„çš„åšå®¢ç½‘ç«™ï¼ŒåŒæ—¶è¿˜èƒ½ä»‹äºvueæ‰“åŒ…ä¹‹åå‘å¸ƒåˆ°gitpageä¸Šå½“çº¿ä¸Šé™æ€åšå®¢ã€‚
åœ¨ä¸€ç•ªâ€œè§‚å¯Ÿâ€ä¹‹åï¼Œæˆ‘è§‰å¾—å¯ä»¥å†™ä¸€ä¸ªç±»ä¼¼vuepressæ¡†æ¶ï¼Œçº¯é é…ç½®ä¸”å‰ç«¯è‡ªåŠ¨åŒ–çš„ä¸€ä¸ªåšå®¢ç½‘ç«™ï¼Œæ‰€ä»¥å°±è¯ç”Ÿäº†â€œä¸ƒå…ƒâ€ã€‚
æˆ‘å°†åœ¨è¿™ä¸ªæ–‡æ¡£ä»‹ç»ä¸€ä¸‹ï¼Œæˆ‘æ˜¯å¦‚ä½•æ­å»ºè¿™ä¸ªåšå®¢ï¼Œä¸”æ€ä¹ˆè®©å·¥ç¨‹è‡ªåŠ¨åŒ–çš„ã€‚
> ç½‘ç«™çš„æ•´ä½“æ¡†æ¶æ˜¯åŸºäºvueå¼€å‘ï¼ŒåŒæ—¶ä¸ºäº†ç¡®ä¿è½»é‡ã€å¿«é€Ÿï¼Œæˆ‘å°†ä¸ç”¨Elementç­‰å¤§å‹UIæ¡†æ¶ï¼Œæ”¹ç”¨CDNåœ¨çº¿åŠ è½½Bootstrapæ ·å¼æ–‡ä»¶ï¼Œæ‰€ä»¥ç½‘ç«™çš„é‡ç‚¹åœ¨Vueå’ŒMarkdownä¸Šã€‚




---



é¦–å…ˆå…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„vueé¡¹ç›®ï¼Œå°½é‡åªä½¿ç”¨èƒ½ç”¨åˆ°çš„ä¸œè¥¿å³å¯ï¼ˆScssã€Vuexã€Routerç­‰ï¼‰ï¼Œåˆ›å»ºå®Œæˆä¹‹åæˆ‘ä»¬å°±æŒ‰ç…§æ­£å¸¸çš„vueé¡¹ç›®å¼€å‘å³å¯ã€‚
ç›®å‰æˆ‘ä»¬é¡¹ç›®çš„ä¸»è¦ç›®å½•ç»“æ„å¦‚ä¸‹ï¼ˆç»è¿‡ç­›é€‰ï¼‰ï¼š
|-- src
Â  Â  |-- App.vue
Â  Â  |-- main.js
Â  Â  |-- components
Â  Â  | Â  |-- FootBar.vue
Â  Â  | Â  |-- NavBar.vue
Â  Â  |-- docsï¼ˆé‡è¦ï¼‰
Â  Â  | Â  |-- JavaScriptæŸ¯é‡ŒåŒ–å‡½æ•°.md
Â  Â  | Â  |-- Vueé¡¹ç›®æ€§èƒ½åŠ è½½ä¼˜åŒ–.md
Â  Â  | Â  |-- config.js
Â  Â  |-- router
Â  Â  | Â  |-- index.js
Â  Â  |-- storeï¼ˆåˆ›å»ºé¡¹ç›®æ—¶å¯é€‰ï¼‰
Â  Â  | Â  |-- index.js
Â  Â  |-- util
Â  Â  | Â  |-- highlight.js
Â  Â  |-- views
Â  Â  Â  Â  |-- Essay.vue
Â  Â  Â  Â  |-- EssayLists.vue
Â  Â  Â  Â  |-- Home.vue


å’Œvuepresså®˜æ–¹æ–‡æ¡£ä¸Šé¢è¯´çš„ä¸€æ ·ï¼šâ€œçº¦å®šä¼˜äºé…ç½®â€ï¼Œè¿™è¾¹ä¹Ÿæ˜¯æ¨èä½ ä½¿ç”¨è¿™æ ·çš„ç›®å½•ç»“æ„ï¼ŒåŒæ—¶docsæ–‡ä»¶å¤¹å†…æ˜¯å­˜æ”¾mdæ–‡ä»¶çš„ï¼Œåªè¦é¡¹ç›®åšå¥½è‡ªåŠ¨åŒ–é…ç½®ï¼Œä½ ç”šè‡³ä¸ç”¨æ‰“å¼€ä»£ç ï¼Œåªéœ€å¾€docsæ–‡ä»¶å¤¹é‡Œé¢å­˜æ”¾æ–‡ä»¶ç„¶åéƒ¨ç½²å³å¯ã€‚


åœ¨äº†è§£å®Œç›®å½•ç»“æ„ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦çŸ¥é“ï¼Œå•çº¯çš„å‰ç«¯æ˜¯è¿˜ä¸èƒ½å¤Ÿç›´æ¥è§£æmarkdownæ–‡ä»¶çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦npm install ä¸€ä¸ªæ§ä»¶ï¼Œæ·»åŠ å‰ç«¯å¯¹markdownæ–‡æ¡£çš„ä¸€ä¸ªè§£æä¾èµ–ã€‚
```shell
npm install vue-markdown-loader -D
```
å®‰è£…äº†markdown-loaderä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åœ¨vue.configé…ç½®æ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯å¯ä»¥åœ¨æ ¹ç›®å½•æ‰‹åŠ¨åˆ›å»ºä¸€ä»½æ–‡ä»¶ï¼‰é‡Œé¢æ·»åŠ ä¾èµ–
```javascript
chainWebpack: config => {
        config.module.rule('md')
            .test(/\.md/)
            .use('vue-loader')
            .loader('vue-loader')
            .end()
            .use('vue-markdown-loader')
            .loader('vue-markdown-loader/lib/markdown-compiler')
            .options({
                raw: true
            })
    }
```
æˆ‘ä»¬å¯ä»¥å…ˆåœ¨ä¸€ä¸ªé¡µé¢ä¸Šæµ‹è¯•ä¸€ä¸‹ï¼Œé¡¹ç›®æ˜¯å¦èƒ½æ­£å¸¸è¯»å–markdownæ–‡ä»¶
```javascript
//å¯¼å…¥ä¸€ç¯‡markdownæ–‡ä»¶
import MarkDownEssay from '@/docs/xxxx.md'

//åœ¨index.jsä¸­componentså¼•å…¥
export default{
	components: {MarkDownEssay},
}

//åœ¨é¡µé¢ä¸Šå¼•å…¥å³å¯
<template>
  <mark-down-essay/>
</template>
```
å°±ä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œä¾¿å¯æ­£å¸¸åŠ è½½ä¸€è¾¹markdownæ–‡ä»¶
æ·»åŠ ä¸Šè‡ªé€‚åº”cssç±»ï¼Œåœ¨ç»„ä»¶å¤–é¢åŒ…è£¹ä¸€å±‚ç±»å³å¯
```css
.markdown-body {
    box-sizing: border-box;
    min-width: 200px;
    max-width: 980px;
    margin: 0 auto;
    padding: 45px;
	}
```


ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°è¿™ä¸ªmarkdownå’Œæˆ‘ä»¬æ­£å¸¸èƒ½çœ‹åˆ°çš„markdownæ–‡ä»¶æ ·å¼ä¸å¤ªä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªé«˜äº®å¤„ç†çš„js
```shell
npm install highlight.js
```
ç„¶åå†utilç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªhighlight.jsæ–‡ä»¶
```javascript
// highlight.js  ä»£ç é«˜äº®æŒ‡ä»¤
import Hljs from 'highlight.js';
import 'highlight.js/styles/tomorrow-night.css'; // ä»£ç é«˜äº®é£æ ¼ï¼Œé€‰æ‹©æ›´å¤šé£æ ¼éœ€å¯¼å…¥ node_modules/hightlight.js/styles/ ç›®å½•ä¸‹å…¶å®ƒcssæ–‡ä»¶

let Highlight = {};
// è‡ªå®šä¹‰æ’ä»¶
Highlight.install = function (Vue) {
	// è‡ªå®šä¹‰æŒ‡ä»¤ v-highlight
	Vue.directive('highlight', {
		// è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨
		inserted: function(el) {
			let blocks = el.querySelectorAll('pre code');
			for (let i = 0; i < blocks.length; i++) {
				Hljs.highlightBlock(blocks[i]);
			}
		},
		// æŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åè°ƒç”¨
		componentUpdated: function(el) {
			let blocks = el.querySelectorAll('pre code');
			for (let i = 0; i < blocks.length; i++) {
				Hljs.highlightBlock(blocks[i]);
			}
		}
	})
};

export default Highlight;

```
```javascript
//main.js

import Highlight from './util/highlight'

Vue.use(Highlight);
```
åœ¨vueæ–‡ä»¶ä¸‹ä½¿ç”¨å³å¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½çœ‹åˆ°ä¸€ä¸ªæ­£å¸¸çš„markdownæ–‡ä»¶äº†
```html
<mark-down-essay v-highlight/>
```



---



åœ¨ä¸Šé¢çš„ç›®å½•ç»“æ„ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†åªè¦åœ¨docsæ–‡ä»¶å¤¹ä¸­æ–°å»ºç›®å½•ï¼Œå¾€æ–°å»ºçš„ç›®å½•æ–‡ä»¶å¤¹ä¸­æ·»åŠ è‡ªå·±çš„mdæ–‡ä»¶ï¼Œæœ€ååœ¨category.jsä¸­é…ç½®ä¸€ä¸‹ç›®å½•ç»“æ„å³å¯è®©é¡¹ç›®åœ¨é¡µé¢ä¸­è‡ªåŠ¨ç”Ÿæˆç›®å½•ç»“æ„å’Œæ–‡ç« åˆ—è¡¨å†…å®¹ã€‚


é‚£æˆ‘ä»¬å¦‚ä½•åªæ·»åŠ æ–‡ä»¶ï¼Œä½¿å·¥ç¨‹è‡ªåŠ¨åŒ–ï¼Ÿå°±è¦äº†è§£ä¸€ä¸‹ "require.context" ã€‚


åœ¨config.jsæ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å†™äº†3ä¸ªå…¬å…±çš„æ–¹æ³•
<img src="../../assets/img/making_code1.png"/>

å…¶ä¸­â€œgetFilesâ€æ–¹æ³•ä¸­ï¼Œä½¿ç”¨require.contextæ¥è·å–config.jsåŒç›®å½•ä¸‹çš„æ‰€æœ‰.mdæ–‡ä»¶


> é’ˆå¯¹require.contextçš„å†…å®¹å¯ä»¥å‚è€ƒä¸€ä¸‹MDNçš„å®˜æ–¹è¯´æ˜
> å…¶ä¸­éœ€è¦ä¼ å…¥çš„3ä¸ªå‚æ•°å«ä¹‰å¦‚ä¸‹
> - è¦æœç´¢çš„æ–‡ä»¶å¤¹ç›®å½•
> - æ˜¯å¦æœç´¢æ–‡ä»¶å¤¹å…¶å­æ–‡ä»¶å¤¹å†…å®¹ï¼ˆå³å­ç›®å½•ï¼‰
> - åŒ¹é…æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼



æ–¹æ³•è·å–åˆ°fileså†…å®¹ä¹‹åï¼Œè¿˜å¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æ–‡ä»¶æ•°ç»„ä¿¡æ¯ï¼Œrequire.contextåªæ˜¯è¿”å›ä¸€ä¸ªæ–‡ä»¶å‡½æ•°
<img src="../../assets/img/making_code2.png"/>

åˆ™è·å–å…·ä½“çš„å†…å®¹ä¹Ÿæœ‰ç›¸å…³çš„3ä¸ªå‚æ•°ï¼š

- resolve åŒ¹é…å…·ä½“æ–‡ä»¶ï¼Œè¿”å›è¿™ä¸ªæ–‡ä»¶ç›¸å¯¹å·¥ç¨‹çš„ç›¸å¯¹è·¯å¾„



- keys è¿”å›åŒ¹é…æˆåŠŸçš„æ–‡ä»¶åå­—ï¼ˆæ•°ç»„Arrayï¼‰



- æ‰§è¡Œç¯å¢ƒçš„id,è¿”å›çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²

<img src="../../assets/img/making_code3.png"/>
<img src="../../assets/img/making_code4.png"/>



```javascript
let files = require.context('./', true, /\.md$/);

console.log(files.keys()); //è¿”å›æ–‡ä»¶å†…å®¹Array
console.log(files.resolve(files.keys()[0])); //è¿”å›ç¬¬ä¸€ä»½æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„
console.log(files.id); //è¿”å›ç›¸å¯¹åº”çš„idå­—ç¬¦ä¸²
```


è¿ç”¨äº†require.contextæ¥è·å–ç›¸å¯¹åº”çš„æ–‡ä»¶å…·ä½“ä¿¡æ¯ä¹‹åï¼Œè¿™è¾¹ä½¿ç”¨æ¯ä¸ªæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œæ¥åŒ¹é…ç›®å½•åå­—ï¼Œçœ‹è¿™ä»½æ–‡ä»¶æ˜¯å¯¹åº”çš„å“ªä¸ªç›®å½•ä¸‹ï¼Œé‚£æˆ‘ä»¬å°†æ–‡ä»¶å‚¨å­˜äºVueä»£ç ä¸­çš„ç›®å½•å¯¹è±¡ä¸­å³å¯ã€‚


æœ€åæˆ‘ä»¬åœ¨æ–‡ç« ç»„ä»¶ä¸­ï¼Œä½¿ç”¨â€œgetComponentâ€æ–¹æ³•è·å–åˆ°ç‚¹å‡»çš„æ–‡ä»¶ç›¸å¯¹äºçš„.mdæ–‡ä»¶ç»„ä»¶ï¼Œç»“åˆmarkdownæ’ä»¶ä¾¿å¯ä»¥ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚
<img src="../../assets/img/making_full.png"/>




---





## ğŸ‰ å†™åœ¨æœ€å ğŸ‰


å› ä¸ºæ•´ä¸ªé¡¹ç›®è¿½æ±‚çš„æ˜¯è½»ä¾¿ã€ç®€ä»‹ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ä½¿ç”¨å…¶ä»–çš„UIæ¡†æ¶ï¼ŒåŸºæœ¬ä¸Šæ˜¯èƒ½è‡ªå·±å†™å‡ºæ¥çš„å°±ç›´æ¥è‡ªå·±å†™ï¼›å‡å°‘ä½¿ç”¨å¤šä½™çš„JSæ’ä»¶ï¼Œä¹Ÿæ˜¯ä¸ºäº†åŠ å¿«é¡¹ç›®çš„æ‰“åŒ…ï¼ŒåŠ å¿«ç½‘ç«™çš„åŠ è½½åŠ å¿«ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ã€‚


ç›®å‰â€œä¸ƒå…ƒâ€åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯é‡åˆ°äº†ä¸å°‘çš„å›°éš¾ã€‚ğŸ˜­

é¡¹ç›®åˆæœŸå¼€å‘çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨æƒ³ç€æ€ä¹ˆèƒ½è®©å·¥ç¨‹è‡ªåŠ¨åŒ–ï¼Œå› ä¸ºä¹Ÿæ˜¯å‚è€ƒçš„Vue-Pressæ¥åšï¼Œæ‰€ä»¥æƒ³ç€å°½é‡å‡å°‘æ“ä½œä»£ç æ¥å®ç°ï¼Œæ‰€ä»¥æ‰ç”¨ä¸Šäº†require.contextï¼Œç›®å‰åªè¦ä¸æ·»åŠ æ–°çš„ç›®å½•ï¼Œåªéœ€è¦åœ¨ç”µè„‘æ–‡ä»¶å¤¹ä¸­å¾€åŸæœ‰ç›®å½•æ–‡ä»¶å¤¹ä¸¢æ”¾æ–‡ä»¶ï¼Œé¡¹ç›®å³å¯è‡ªåŠ¨è¯†åˆ«ã€åŠ è½½ï¼ŒåŒæ—¶ç‚¹å‡»deploy.shä¸€é”®æ‰“åŒ…+éƒ¨ç½²ã€‚ğŸ‰


å¯èƒ½ä½ ä¼šæœ‰ç–‘é—®ï¼Œåœ¨docs/category.jsæ–‡ä»¶ä¸­ï¼Œå·²ç»å†™äº†å­ç›®å½•çš„ç›¸å…³ä»£ç ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰å­ç›®å½•å‡ºæ¥å‘¢ï¼ŸğŸ§ğŸ§ğŸ§ å…¶å®è¿™è¾¹æœ¬æ¥æ˜¯åšäº†å­ç›®å½•çš„ç›¸å…³é…ç½®äº†ï¼Œä¹Ÿæƒ³ç€åæœŸé€æ¸å®Œå–„å­ç›®å½•çš„é…ç½®åŒ–ï¼Œä½†æ˜¯åœ¨æ–‡ç« åˆ—è¡¨é¡µä¸­ï¼Œcollapseç»„ä»¶æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœé…ç½®äº†å­ç›®å½•ï¼Œé‚£ä¹ˆç‚¹å¼€çš„æ—¶å€™ï¼Œæœ€å¤–å±‚çš„ä¸€ä¸ªæŠ˜å å±‚æ²¡æœ‰è‡ªé€‚åº”é«˜åº¦ã€‚å¦‚æœä¸éœ€è¦æŠ˜å åŠ¨ç”»çš„è¯ï¼Œè®©é«˜åº¦è‡ªé€‚åº”å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä½†æ˜¯æˆ‘æƒ³å…¼å®¹åŠ¨ç”»æ‰€ä»¥ä¸€ç›´åœ¨æƒ³æœ€å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ğŸ˜™ğŸ˜™ğŸ˜™


ğŸ¤©å¦‚æœä½ å–œæ¬¢æˆ‘çš„è¿™ä¸ªé¡¹ç›®ï¼Œåˆæˆ–è€…ä½ å¯¹æˆ‘çš„é¡¹ç›®æœ‰ä»€ä¹ˆå»ºè®®çš„è¯ï¼Œéƒ½å¯ä»¥åœ¨æˆ‘çš„é¡¹ç›®githubä¸Šé¢starä¸€ä¸‹å’Œæå‡ºissueæ¥è®©æˆ‘çŸ¥é“ï¼ğŸ¥³




> å¦‚æœä½ å–œæ¬¢ï¼ŒèµåŠ©ä¸€æ¯å’–å•¡å§ å‘œå‘œå‘œğŸ˜­ğŸ˜­
>
> AliPayï¼š<img src="../../assets/img/Alipay.jpg" style="width:100px;height:100px"/>     WeChatï¼š<img src="../../assets/img/WechatPay.jpg" style="width:100px;height:100px"/>

